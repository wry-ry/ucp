{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Universal Commerce Protocol","text":"Universal CommerceProtocol <p>         The common language for platforms, agents and businesses.       </p> <p>         UCP defines building blocks for agentic commerce\u2014from discovering and buying to post purchase experiences\u2014allowing the ecosystem to interoperate through one standard, without custom builds.       </p> Learn <p>Protocol overview, core concepts, and design principles</p>          Read the docs        Implement <p>GitHub repo, technical spec, SDKs, and reference implementations</p>          View on GitHub        Co-developed and adopted by industry leaders <p>       UCP was built by the industry, for the industry to solve for fragmented commerce journeys that lead to abandoned carts and frustrated shoppers, and enable agentic commerce.     </p> Google Shopify Etsy Wayfair Target Walmart Built for flexibility, security, and scale <p>       Agentic commerce demands interoperability. UCP is built on industry standards \u2014 REST and JSON-RPC transports;       Agent Payments Protocol (AP2),       Agent2Agent (A2A), and       Model Context Protocol (MCP)       support built-in \u2014 so different systems can work together without custom integration.     </p> Scalable and universal <p>           Surface-agnostic design that can scale to support any commerce entity (from small businesses to enterprise scale) and all modalities (chat, visual commerce, voice, etc).         </p> Businesses at the center <p>           Built to facilitate commerce, ensuring retailers retain control of their business rules and remain the Merchant of Record with full ownership of the customer relationship.         </p> Open and extensible <p>           Open and extensible by design, enabling development of community-driven capabilities and extensions across verticals.         </p> Secure and private <p>           Built on proven security standards for account linking (OAuth 2.0) and secure payment (AP2) via payment mandates and verifiable credentials.         </p> Frictionless payments <p>           Open wallet ecosystem with interoperability between providers to ensure buyers can pay with their preferred payment methods.         </p> See it in action <p>       UCP is designed to facilitate the entire commerce lifecycle, from initial product discovery and search to final sale and post-purchase support.   The protocol's initial launch focuses on three core capabilities: Checkout, Identity Linking, and Order Management.     </p> Checkout Identity Linking Order SEE IT IN ACTION Checkout <p>Support complex cart logic, dynamic pricing, tax calculations, and more across millions of businesses through unified checkout sessions.</p> Learn more <pre><code>{\n  \"ucp\": { ... },\n  \"id\": \"chk_123456789\",\n  \"status\": \"ready_for_complete\",\n  \"currency\": \"USD\",\n  \"buyer\": {\n    \"email\": \"e.beckett@example.com\",\n    \"first_name\": \"Elisa\",\n    \"last_name\": \"Beckett\"\n  },\n  \"line_items\": [\n    {\n      \"id\": \"li_1\",\n      \"item\": {\n        \"id\": \"item_123\",\n        \"title\": \"Monos Carry-On Pro suitcase\",\n        \"price\": 26550\n      },\n      \"quantity\": 1,\n      ...\n    }\n  ],\n  \"totals\": [ ... ],\n  \"links\": [ ... ],\n  \"payment\": { ... },\n  \"fulfillment\": {\n    \"methods\": [\n      {\n        \"id\": \"method_1\",\n        \"type\": \"shipping\",\n        \"line_item_ids\": [\"li_1\"],\n        \"selected_destination_id\": \"dest_1\",\n        \"destinations\": [\n          {\n            \"id\": \"dest_1\",\n            \"first_name\": \"Elisa\",\n            \"last_name\": \"Beckett\",\n            \"street_address\": \"1600 Amphitheatre Pkwy\",\n            \"address_locality\": \"Mountain View\",\n            \"address_region\": \"CA\",\n            \"postal_code\": \"94043\",\n            \"address_country\": \"US\"\n          }\n        ],\n        \"groups\": [\n          {\n            \"id\": \"group_1\",\n            \"line_item_ids\": [\"li_1\"],\n            \"selected_option_id\": \"free-shipping\",\n            \"options\": [\n              {\n                \"id\": \"free-shipping\",\n                \"title\": \"Free Shipping\",\n                \"totals\": [ {\"type\": \"total\", \"amount\": 0} ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre> SEE IT IN ACTION Identity Linking <p>OAuth 2.0 standard enables agents to maintain secure, authorized relationships without sharing credentials.</p> Learn more <pre><code>Sample of /.well-known/oauth-authorization-server\n\n{\n  \"issuer\": \"https://example.com\",\n  \"authorization_endpoint\": \"https://example.com/oauth2/authorize\",\n  \"token_endpoint\": \"https://example.com/oauth2/token\",\n  \"revocation_endpoint\": \"https://example.com/oauth2/revoke\",\n  \"scopes_supported\": [\n    \"ucp:scopes:checkout_session\",\n  ],\n  \"response_types_supported\": [\n    \"code\"\n  ],\n  \"grant_types_supported\": [\n    \"authorization_code\",\n    \"refresh_token\"\n  ],\n  \"token_endpoint_auth_methods_supported\": [\n    \"client_secret_basic\"\n  ],\n  \"service_documentation\": \"https://example.com/docs/oauth2\"\n}\n</code></pre> SEE IT IN ACTION Order <p>From purchase confirmation to delivery. Real-time webhooks power status updates, shipment tracking, and return processing across every channel.</p> Learn more <pre><code>{\n  \"ucp\": { ... },\n  \"id\": \"order_123456789\",\n  \"checkout_id\": \"chk_123456789\",\n  \"permalink_url\": ...,\n  \"line_items\": [ ... ],\n  \"fulfillment\": {\n    \"expectations\": [\n      {\n        \"id\": \"exp_1\",\n        \"line_items\": [{ \"id\": \"li_1\", \"quantity\": 1 }],\n        \"method_type\": \"shipping\",\n        \"destination\": {\n          \"first_name\": \"Elisa\",\n          \"last_name\": \"Beckett\",\n          \"street_address\": \"1600 Amphitheatre Pkwy\",\n          \"address_locality\": \"Mountain View\",\n          \"address_region\": \"CA\",\n          \"postal_code\": \"94043\",\n          \"address_country\": \"US\"\n        },\n        \"description\": \"Arrives in 2-3 business days\",\n        \"fulfillable_on\": \"now\"\n      }\n      ...\n    ],\n    \"events\": [\n      {\n        \"id\": \"evt_1\",\n        \"occurred_at\": \"2026-01-11T10:30:00Z\",\n        \"type\": \"delivered\",\n        \"line_items\": [{ \"id\": \"li_1\", \"quantity\": 1 }],\n        \"tracking_number\": \"123456789\",\n        \"tracking_url\": \"https://fedex.com/track/123456789\",\n        \"description\": \"Delivered to front door\"\n      }\n    ]\n  },\n  \"adjustments\": [\n    {\n      \"id\": \"adj_1\",\n      \"type\": \"refund\",\n      \"occurred_at\": \"2026-01-12T14:30:00Z\",\n      \"status\": \"completed\",\n      \"line_items\": [{ \"id\": \"li_1\", \"quantity\": 1 }],\n      \"amount\": 26550,\n      \"description\": \"Defective item\"\n    }\n  ],\n  \"totals\": [ ... ]\n}\n</code></pre> Power native checkout <p>         Integrate and negotiate directly with a seller's checkout API to power native UI and workflows for your platform.       </p> See how it works Embed business checkout <p>         Embed and render business checkout UI to support complex checkout flows, with advanced capabilities like bidirectional communication, and payment and shipping address delegation.       </p> Learn more Designed for the entire commerce ecosystem For Developers <p>           Build the future of commerce on an open foundation. Join our community in evolving an open-source standard designed for the next generation of digital commerce.         </p> View the technical spec For Businesses <p>           UCP empowers retailers to meet customers wherever they are\u2014AI assistants, shopping agents, embedded experiences\u2014without rebuilding your checkout for each. You remain the Merchant of Record and your business logic stays intact.         </p> Integrate with UCP For AI Platforms <p>           Simplify business onboarding with standardized APIs and provide your audience with an integrated shopping experience. Compatible with MCP, A2A, and existing agent frameworks.         </p> Learn more about UCP core concepts For Payment Providers <p>           Universal payments that are provable\u2014every authorization backed by cryptographic proof of user consent. Open, modular payment handler design enables open interoperability and choice of payment methods.         </p> Learn more about UCP and AP2 Endorsed across the ecosystem Adyen Affirm Amex Ant International Best Buy Block Carrefour Chewy Commerce Fiserv Flipkart Gap Klarna Kroger Lowe's Macy's Mastercard Paypal Salesforce Sephora Shopee Splitit Stripe The Home Depot Ulta Visa Worldpay Zalando Adyen Affirm Amex Ant International Best Buy Block Carrefour Chewy Commerce Fiserv Flipkart Gap Klarna Kroger Lowe's Macy's Mastercard Paypal Salesforce Sephora Shopee Splitit Stripe The Home Depot Ulta Visa Worldpay Zalando Get started today <p>         UCP is an open standard designed to let AI agents, apps, businesses, and payment providers interact seamlessly without needing custom, one-off integrations for every connection. We actively seek your feedback and contributions to help build the future of commerce.       </p> <p>         The complete technical specification, documentation, and reference implementations are hosted in our public GitHub repository.       </p> Download <p>Download and run our code samples</p> Experiment <p>Experiment with the protocol and its different agent roles</p> Contribute <p>Contribute your feedback and code to the public repository</p>          Visit the GitHub repository"},{"location":"versioning/","title":"Versioning","text":"<p>UCP uses date-based version identifiers following the format YYYY-MM-DD, to indicate the last date backwards incompatible changes were made.</p> <p>New development occurs on the <code>main</code> branch. We will maintain long-lived branches for all supported releases of the spec.</p> <ul> <li>When the Tech Council approves a new version of UCP, we will cut a   new branch named <code>release/YYYY-MM-DD</code> directly from the current state of   <code>main</code>.<ul> <li>We will implement a code freeze on the release branch the moment a   <code>release/YYYY-MM-DD branch</code> is cut. Only critical bug fixes should move   during this window.</li> <li>Critical issues discovered after cutting a release branch should be fixed   in one of two ways:</li> <li>The fix is made on the release branch and merged to <code>main</code>.</li> <li>The fix is made on <code>main</code> and cherry-picked to the release branch.</li> </ul> </li> <li>Once finalized, we will merge the release branch into <code>main</code> and tag it (e.g.   <code>git tag -a vYYYY-MM-DD</code>).  We will use a GitHub Action to detect the new Tag   and automatically generate a release notes draft and upload artifacts.</li> <li>Unlike temporary feature branches, release/YYYY-MM-DD branches are long-lived   and correspond to specific versions of the spec for historical reference and   maintenance.</li> </ul>"},{"location":"versioning/#breaking-prs","title":"Breaking PRs","text":"<ul> <li>Breaking changes should include <code>!</code> in the PR title</li> <li>Timing: We will announce the breaking change in Discussions 2 weeks   before the change is merged.</li> </ul>"},{"location":"documentation/core-concepts/","title":"Core Concepts","text":""},{"location":"documentation/core-concepts/#core-concepts","title":"Core Concepts","text":"<p>The Universal Commerce Protocol (UCP) is an open standard designed to facilitate communication and interoperability between diverse commerce entities. In a fragmented landscape where consumer surfaces/platforms, businesses, payment providers, and identity providers operate on different systems, UCP provides a standardized common language and functional primitives.</p> <p>This document provides the detailed technical specification for UCP. For a complete definition of all data models and schemas, see the Schema Reference.</p> <p>Its primary goal is to enable:</p> <ul> <li>Consumer Surfaces/Platforms: To discover business capabilities and     facilitate purchases.</li> <li>Businesses: To expose their inventory and retail logic in a standard     way without building custom integrations for every platform.</li> <li>Payment &amp; Credential Providers: To securely exchange tokens and     credentials to facilitate transactions.</li> </ul>"},{"location":"documentation/core-concepts/#high-level-architecture","title":"High level architecture","text":""},{"location":"documentation/core-concepts/#key-goals-of-ucp","title":"Key Goals of UCP","text":"<ul> <li>Interoperability: Bridge the gap between consumer surfaces, businesses,     and payment ecosystems.</li> <li>Discovery: Allow consumer surfaces to dynamically discover what     businesses support (e.g., \"Do they support guest checkout?\", \"Do they have     loyalty programs?\").</li> <li>Security: Facilitate secure, standards-based (OAuth 2.0, PCI-DSS     compliant patterns) exchanges of sensitive user and payment data.</li> <li>Agentic Commerce: Enable AI agents to act on behalf of users to complete     complex tasks like \"Find a headset under $100 and buy it.\"</li> </ul>"},{"location":"documentation/core-concepts/#roles-participants","title":"Roles &amp; Participants","text":"<p>UCP defines the interactions between four primary distinct actors, each playing a specific role in the commerce lifecycle.</p>"},{"location":"documentation/core-concepts/#platform-applicationagent","title":"Platform (Application/Agent)","text":"<p>The platform is the consumer-facing surface (such as an AI agent, mobile app, or social media site) acting on behalf of the User. It orchestrates the commerce journey by discovering businesses and facilitating user intent.</p> <ul> <li>Responsibilities: Discovering businesses capabilities via profiles,     initiating checkout sessions, and presenting the UI or conversational     interface to the user.</li> <li>Examples: AI Shopping Assistants, Super Apps, Search Engines.</li> </ul>"},{"location":"documentation/core-concepts/#business","title":"Business","text":"<p>The entity selling goods or services. In the UCP model, businesses act as the Merchant of Record (MoR), retaining financial liability and ownership of the order.</p> <ul> <li>Responsibilities: Exposing commerce capabilities (inventory, pricing,     tax calculation), fulfilling orders, and processing payments via their     chosen PSP.</li> <li>Examples: Retailers, Airlines, Hotel Chains, Service Providers.</li> </ul>"},{"location":"documentation/core-concepts/#credential-provider-cp","title":"Credential Provider (CP)","text":"<p>A trusted entity responsible for securely managing and sharing sensitive user data, particularly payment instruments and shipping addresses.</p> <ul> <li>Responsibilities: Authenticating the user, issuing payment tokens (to     keep raw card data off the platform), and holding PII securely to minimize     compliance scope for other parties.</li> <li>Examples: Digital Wallets (e.g., Google Wallet, Apple Pay), Identity     Providers.</li> </ul>"},{"location":"documentation/core-concepts/#payment-service-provider-psp","title":"Payment Service Provider (PSP)","text":"<p>The financial infrastructure provider that processes payments on behalf of businesses.</p> <ul> <li>Responsibilities: Authorizing and capturing transactions, handling     settlements, and communicating with card networks. The PSP often interacts     directly with tokens provided by the Credential Provider.</li> <li>Examples: Stripe, Adyen, PayPal, Braintree, Chase Paymentech.</li> </ul>"},{"location":"documentation/core-concepts/#core-concepts-summary","title":"Core Concepts Summary","text":"<p>UCP revolves around three fundamental constructs that define how entities interact.</p> <ul> <li>Capabilities: Standalone core features that a business supports. These     are the \"verbs\" of the protocol.<ul> <li>Examples: Checkout, Identity Linking, Order.</li> </ul> </li> <li>Extensions: Optional capabilities that augment another capability     via the <code>extends</code> field. Extensions appear in <code>ucp.capabilities[]</code>     alongside core capabilities.<ul> <li>Examples: Discounts (extends Checkout), AP2 Mandates (extends     Checkout).</li> </ul> </li> <li>Services: The lower-level communication layers used to exchange data.     UCP is transport-agnostic but defines specific bindings for     interoperability.<ul> <li>Examples: REST API (primary), MCP (Model Context Protocol), A2A     (Agent2Agent).</li> </ul> </li> </ul>"},{"location":"documentation/roadmap/","title":"Roadmap","text":""},{"location":"documentation/roadmap/#roadmap","title":"Roadmap","text":"<p>This roadmap is meant to provide transparency into our strategic priorities and to align our partners on the critical path toward a fully agentic, global commerce standard. Our goal is to move beyond isolated transactions and build a cohesive, intelligent commerce layer that works across borders and verticals.</p> <p>Note: This roadmap reflects our current direction and intends to guide planning, but it does not constitute a commitment to deliver specific features. Our approach to these challenges may evolve, and initiatives are subject to change, removal, or addition as business priorities shift and we receive community feedback.</p>"},{"location":"documentation/roadmap/#upcoming-roadmap-priorities","title":"Upcoming roadmap priorities","text":""},{"location":"documentation/roadmap/#deeper-support-for-the-full-consumer-journey","title":"Deeper support for the full consumer journey","text":"<p>To move beyond isolated transactions, we are expanding the protocol's scope to tackle key user journeys such as multi-item checkout, loyalty, and lifecycle management, while ensuring the business's brand and logic remain central to all shopping experiences. Key upcoming initiatives include:</p> <ul> <li>Product discovery and post-order management: By facilitating the entire     journey, we help businesses maximize lifetime and average order value rather     than just processing a single item for checkout.</li> <li>Cart and basket building: Support for multi-item checkout from a     business, complex basket rules (e.g., promotions, tax, shipping), and varied     fulfillment logic that reflects how people actually shop.</li> <li>Loyalty &amp; Member benefits: Capabilities to enable loyalty and member     benefits to help users find the best value and businesses achieve a deeper     connection with their consumers through account linking.</li> <li>Native cross-sell and upsell modules: Capabilities for businesses to     provide personalized recommendations and upsells based on user context.</li> </ul>"},{"location":"documentation/roadmap/#support-for-global-markets","title":"Support for global markets","text":"<p>We are building a scalable ecosystem that is inclusive of all business sizes and geographies, ensuring that \"simple and open\" means accessible to everyone. We plan to do this through a phased rollout across markets, including India, Indonesia, Latin America, and others. We are adapting the protocol to support broader regional use cases and localized payment interoperability.</p>"},{"location":"documentation/roadmap/#build-with-us","title":"Build with us","text":"<p>The future of commerce cannot be built in a vacuum. We invite businesses, developers, and payment providers to join us in refining these specifications. Your feedback on our early builds helps us shape the standards that will power the next generation of global commerce.</p> <p>Become a UCP contributor</p>"},{"location":"documentation/schema-authoring/","title":"Schema Authoring","text":""},{"location":"documentation/schema-authoring/#schema-authoring-guide","title":"Schema Authoring Guide","text":"<p>This guide documents conventions for authoring UCP JSON schemas: metadata fields, the registry pattern, schema variants, and versioning.</p>"},{"location":"documentation/schema-authoring/#schema-metadata-fields","title":"Schema Metadata Fields","text":"<p>UCP schemas use standard JSON Schema fields plus UCP-specific metadata:</p> Field Standard Purpose Required For <code>$schema</code> JSON Schema Declares JSON Schema draft version (SHOULD use <code>draft/2020-12</code>) All schemas <code>$id</code> JSON Schema Schema's canonical URI for <code>$ref</code> resolution All schemas <code>title</code> JSON Schema Human-readable display name All schemas <code>description</code> JSON Schema Schema purpose and usage All schemas <code>name</code> UCP Reverse-domain identifier; doubles as registry key Capabilities, services, handlers <code>version</code> UCP Entity version (<code>YYYY-MM-DD</code> format) Capabilities, services, payment handlers <code>id</code> UCP Instance identifier for multiple configurations Payment handlers only"},{"location":"documentation/schema-authoring/#why-self-describing","title":"Why Self-Describing?","text":"<p>Capability schemas must be self-describing: when a platform fetches a schema, it should determine exactly what capability and version it represents without cross-referencing other documents. This matters because:</p> <ol> <li> <p>Independent versioning: Capabilities may version independently. The schema    must declare its version explicitly\u2014you can't infer it from the URL.</p> </li> <li> <p>Validation: Validators can cross-check that a capability declaration's    <code>schema</code> URL points to a schema whose embedded <code>name</code>/<code>version</code> match the    declaration. Mismatches are authoring errors caught at build time.</p> </li> <li> <p>Developer experience: When reading a schema file, integrators immediately    see what capability it defines without reverse-engineering the <code>$id</code> URL.</p> </li> <li> <p>Compact namespace: The <code>name</code> field provides a standardized reverse-domain    identifier (e.g., <code>dev.ucp.shopping.checkout</code>) that's more compact and semantic    than the full <code>$id</code> URL.</p> </li> </ol>"},{"location":"documentation/schema-authoring/#why-both-id-and-name","title":"Why Both <code>$id</code> and <code>name</code>?","text":"Field Role Format <code>$id</code> JSON Schema primitive for <code>$ref</code> resolution and tooling URI (required by spec) <code>name</code> Registry key and stable identifier Reverse-domain <p><code>$id</code> must be a valid URI per JSON Schema spec. <code>name</code> is the key used in registries (<code>capabilities</code>, <code>services</code>, <code>payment_handlers</code>) and the wire protocol identifier used in capability negotiation\u2014decoupled from schema hosting so that <code>schema</code> URLs can change as infrastructure evolves.</p> <p>The reverse-domain format provides namespace governance: domain owners control their namespace (<code>dev.ucp.*</code>, <code>com.shopify.*</code>), avoiding collisions between UCP and vendor entities. This stable identity layer allows trust and resolution mechanisms to evolve independently\u2014future versions could adopt verifiable credentials, content-addressed schemas, or other verification methods without breaking capability negotiation.</p>"},{"location":"documentation/schema-authoring/#why-version-uses-dates","title":"Why <code>version</code> Uses Dates?","text":"<p>The <code>version</code> field uses date-based versioning (<code>YYYY-MM-DD</code>) to enable:</p> <ul> <li>Capability negotiation: Platforms request specific versions they support</li> <li>Breaking change management: New versions get new dates; old versions remain   valid and resolvable</li> <li>Independent lifecycles: Extensions can release on their own schedule</li> </ul>"},{"location":"documentation/schema-authoring/#schema-categories","title":"Schema Categories","text":"<p>UCP schemas fall into six categories based on their role in the protocol.</p>"},{"location":"documentation/schema-authoring/#capability-schemas","title":"Capability Schemas","text":"<p>Define negotiated capabilities that appear in <code>ucp.capabilities{}</code> registries.</p> <ul> <li>Top-level fields: <code>$schema</code>, <code>$id</code>, <code>title</code>, <code>description</code>, <code>name</code>, <code>version</code></li> <li>Variants: <code>platform_schema</code>, <code>business_schema</code>, <code>response_schema</code></li> </ul> <p>Examples: <code>checkout.json</code>, <code>fulfillment.json</code>, <code>discount.json</code>, <code>order.json</code></p>"},{"location":"documentation/schema-authoring/#service-schemas","title":"Service Schemas","text":"<p>Define transport bindings that appear in <code>ucp.services{}</code> registries. Each transport (REST, MCP, A2A, Embedded) is a separate entry.</p> <ul> <li>Top-level fields: <code>$schema</code>, <code>$id</code>, <code>title</code>, <code>description</code>, <code>name</code>, <code>version</code></li> <li>Variants: <code>platform_schema</code>, <code>business_schema</code></li> <li>Transport requirements:<ul> <li>REST/MCP: <code>endpoint</code>, <code>schema</code> (OpenAPI/OpenRPC URL)</li> <li>A2A: <code>endpoint</code> (Agent Card URL)</li> <li>Embedded: <code>schema</code> (OpenRPC URL)</li> </ul> </li> </ul>"},{"location":"documentation/schema-authoring/#payment-handler-schemas","title":"Payment Handler Schemas","text":"<p>Define payment handler configurations in <code>ucp.payment_handlers{}</code> registries.</p> <ul> <li>Top-level fields: <code>$schema</code>, <code>$id</code>, <code>title</code>, <code>description</code>, <code>name</code>, <code>version</code></li> <li>Variants: <code>platform_schema</code>, <code>business_schema</code>, <code>response_schema</code></li> <li>Instance <code>id</code>: Required to distinguish multiple configurations of the same handler</li> </ul> <p>Examples: <code>com.google.pay</code>, <code>dev.shopify.shop_pay</code>, <code>dev.ucp.processor_tokenizer</code></p> <p>\u2192 See Payment Handler Guide for detailed guidance on handler structure, config/instrument/credential schemas, and the full specification template.</p>"},{"location":"documentation/schema-authoring/#component-schemas","title":"Component Schemas","text":"<p>Data structures embedded within capabilities but not independently negotiated. Do not appear in registries.</p> <ul> <li>Top-level fields: <code>$schema</code>, <code>$id</code>, <code>title</code>, <code>description</code></li> <li>Omit: <code>name</code>, <code>version</code> (not independently versioned)</li> </ul> <p>Examples:</p> <ul> <li><code>schemas/shopping/payment.json</code> \u2014 Payment configuration (part of checkout)</li> </ul>"},{"location":"documentation/schema-authoring/#type-schemas","title":"Type Schemas","text":"<p>Reusable definitions referenced by other schemas. Do not appear in registries.</p> <ul> <li>Top-level fields: <code>$schema</code>, <code>$id</code>, <code>title</code>, <code>description</code></li> <li>Omit: <code>name</code>, <code>version</code></li> </ul> <p>Examples: <code>types/buyer.json</code>, <code>types/line_item.json</code>, <code>types/postal_address.json</code></p>"},{"location":"documentation/schema-authoring/#meta-schemas","title":"Meta Schemas","text":"<p>Define protocol structure rather than entity payloads.</p> <ul> <li>Top-level fields: <code>$schema</code>, <code>$id</code>, <code>title</code>, <code>description</code></li> <li>Omit: <code>name</code>, <code>version</code></li> </ul> <p>Examples: <code>ucp.json</code> (entity base), <code>capability.json</code>, <code>service.json</code>, <code>payment_handler.json</code></p>"},{"location":"documentation/schema-authoring/#the-registry-pattern","title":"The Registry Pattern","text":"<p>UCP organizes capabilities, services, and handlers in registries\u2014objects keyed by <code>name</code> rather than arrays of objects with <code>name</code> fields.</p> <pre><code>{\n  \"capabilities\": {\n    \"dev.ucp.shopping.checkout\": [{\"version\": \"2026-01-11\"}],\n    \"dev.ucp.shopping.fulfillment\": [{\"version\": \"2026-01-11\"}]\n  },\n  \"services\": {\n    \"dev.ucp.shopping\": [\n      {\"version\": \"2026-01-11\", \"transport\": \"rest\"},\n      {\"version\": \"2026-01-11\", \"transport\": \"mcp\"}\n    ]\n  },\n  \"payment_handlers\": {\n    \"com.google.pay\": [{\"id\": \"gpay_1234\", \"version\": \"2026-01-11\"}]\n  }\n}\n</code></pre>"},{"location":"documentation/schema-authoring/#registry-contexts","title":"Registry Contexts","text":"<p>The same registry structure appears in three contexts with different field requirements:</p> Context Location Required Fields Platform Profile Advertised URI <code>version</code>, <code>spec</code>, <code>schema</code> Business Profile <code>/.well-known/ucp</code> <code>version</code>; may add <code>config</code> API Responses Checkout/order payloads <code>version</code> (+ <code>id</code> for handlers)"},{"location":"documentation/schema-authoring/#the-entity-pattern","title":"The Entity Pattern","text":"<p>All capabilities, services, and handlers extend a common <code>entity</code> base schema:</p> Field Type Description <code>version</code> string Entity version (<code>YYYY-MM-DD</code>) \u2014 always required <code>spec</code> URI Human-readable specification <code>schema</code> URI JSON Schema URL <code>id</code> string Instance identifier (handlers only) <code>config</code> object Entity-specific configuration"},{"location":"documentation/schema-authoring/#schema-variants","title":"Schema Variants","text":"<p>Each entity type defines three variants for different contexts:</p> <p><code>platform_schema</code> \u2014 Full declarations for discovery</p> <pre><code>{\n  \"dev.ucp.shopping.fulfillment\": [{\n    \"version\": \"2026-01-11\",\n    \"spec\": \"https://ucp.dev/specification/fulfillment\",\n    \"schema\": \"https://ucp.dev/schemas/shopping/fulfillment.json\",\n    \"config\": {\n      \"supports_multi_group\": true\n    }\n  }]\n}\n</code></pre> <p><code>business_schema</code> \u2014 Business-specific overrides</p> <pre><code>{\n  \"dev.ucp.shopping.fulfillment\": [{\n    \"version\": \"2026-01-11\",\n    \"config\": {\n      \"allows_multi_destination\": {\"shipping\": true}\n    }\n  }]\n}\n</code></pre> <p><code>response_schema</code> \u2014 Minimal references in API responses</p> <pre><code>{\n  \"ucp\": {\n    \"capabilities\": {\n      \"dev.ucp.shopping.fulfillment\": [{\"version\": \"2026-01-11\"}]\n    }\n  }\n}\n</code></pre> <p>Define all three in your schema's <code>$defs</code>:</p> <pre><code>\"$defs\": {\n  \"platform_schema\": {\n    \"allOf\": [{\"$ref\": \"../capability.json#/$defs/platform_schema\"}]\n  },\n  \"business_schema\": {\n    \"allOf\": [{\"$ref\": \"../capability.json#/$defs/business_schema\"}]\n  },\n  \"response_schema\": {\n    \"allOf\": [{\"$ref\": \"../capability.json#/$defs/response_schema\"}]\n  }\n}\n</code></pre>"},{"location":"documentation/schema-authoring/#versioning-strategy","title":"Versioning Strategy","text":""},{"location":"documentation/schema-authoring/#ucp-capabilities-devucp","title":"UCP Capabilities (<code>dev.ucp.*</code>)","text":"<p>UCP-authored capabilities version with protocol releases by default. Individual capabilities may version independently when needed.</p>"},{"location":"documentation/schema-authoring/#vendor-capabilities-comvendor","title":"Vendor Capabilities (<code>com.{vendor}.*</code>)","text":"<p>Capabilities outside <code>dev.ucp.*</code> version fully independently:</p> <pre><code>{\n  \"name\": \"com.shopify.loyalty\",\n  \"version\": \"2025-09-01\",\n  \"spec\": \"https://shopify.dev/ucp/loyalty\",\n  \"schema\": \"https://shopify.dev/ucp/schemas/loyalty.json\"\n}\n</code></pre> <p>Vendor schemas follow the same self-describing requirements.</p>"},{"location":"documentation/schema-authoring/#complete-example-capability-schema","title":"Complete Example: Capability Schema","text":"<p>A capability schema defines both payload structure and declaration variants:</p> <pre><code>{\n  \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n  \"$id\": \"https://ucp.dev/schemas/shopping/checkout.json\",\n  \"name\": \"dev.ucp.shopping.checkout\",\n  \"version\": \"2026-01-11\",\n  \"title\": \"Checkout\",\n  \"description\": \"Base checkout schema. Extensions compose via allOf.\",\n\n  \"$defs\": {\n    \"platform_schema\": {\n      \"allOf\": [{\"$ref\": \"../capability.json#/$defs/platform_schema\"}]\n    },\n    \"business_schema\": {\n      \"allOf\": [{\"$ref\": \"../capability.json#/$defs/business_schema\"}]\n    },\n    \"response_schema\": {\n      \"allOf\": [{\"$ref\": \"../capability.json#/$defs/response_schema\"}]\n    }\n  },\n\n  \"type\": \"object\",\n  \"required\": [\"ucp\", \"id\", \"line_items\", \"status\", \"currency\", \"totals\", \"links\"],\n  \"properties\": {\n    \"ucp\": {\"$ref\": \"../ucp.json#/$defs/response_checkout_schema\"},\n    \"id\": {\"type\": \"string\", \"description\": \"Checkout identifier\"},\n    \"line_items\": {\"type\": \"array\", \"items\": {\"$ref\": \"types/line_item.json\"}},\n    \"status\": {\"type\": \"string\", \"enum\": [\"open\", \"completed\", \"expired\"]},\n    \"currency\": {\"type\": \"string\", \"pattern\": \"^[A-Z]{3}$\"},\n    \"totals\": {\"$ref\": \"types/totals.json\"},\n    \"links\": {\"$ref\": \"types/links.json\"}\n  }\n}\n</code></pre> <p>Key points:</p> <ul> <li>Top-level <code>name</code> and <code>version</code> make the schema self-describing</li> <li><code>$defs</code> variants enable validation in different contexts</li> <li>Payload properties define the actual checkout response structure</li> </ul>"},{"location":"documentation/ucp-and-ap2/","title":"UCP and AP2","text":""},{"location":"documentation/ucp-and-ap2/#ucp-and-ap2","title":"UCP and AP2","text":"<p>UCP is fully compatible with Agent Payments Protocol (AP2). AP2 serves as the trust layer for agent-led transactions completed on behalf of a user, mandating a secure, verifiable exchange of intents and authorizations between Platforms and businesses. By using Verifiable Digital Credentials (VDCs), AP2 eliminates the need for middleman \"trust referees.\" It allows businesses to receive signed checkout commitments\u2014ensuring the price and terms don't change mid-flow\u2014and allows Platforms to provide cryptographically signed payment authorizations that are mathematically tied to the specific state of the cart.</p>"},{"location":"documentation/ucp-and-ap2/#key-benefits","title":"Key benefits","text":"<ul> <li>Binding proof: Both parties have cryptographic evidence of exactly what     was offered and what was agreed upon, ensuring the transaction is final and     authentic.</li> <li>Fraud reduction: Payment mandates are scoped specifically to a checkout     hash, preventing \"token replay\" or amount manipulation.</li> <li>Agentic readiness: Allows autonomous AI agents to transact on behalf of     users with pre-defined, verifiable boundaries.</li> </ul>"},{"location":"documentation/ucp-and-ap2/#protocol-flow","title":"Protocol flow","text":"<ol> <li>Discovery: The business publishes their discovery document, declaring     support for the AP2 extension.</li> <li>Session Activation: When creating or updating a checkout session, the     Platform signals the activation of AP2.</li> <li>Signing (business): The business responds with a <code>checkoutSignature</code> (a     detached JWT signing the checkout state) and lists supported verifiable     presentation formats (e.g., <code>sd-jwt</code>).</li> <li>Authorization: Upon user consent, the Platform generates two     credentials:<ul> <li>CheckoutMandate: Contains the hash of the <code>CheckoutObject</code>.</li> <li>PaymentMandate: An SD-JWT-VC containing the payment authorization.</li> </ul> </li> <li>Completion: The Platform submits both mandates to the business\u2019     <code>/complete</code> endpoint.</li> <li>Verification:<ul> <li>The business verifies the <code>CheckoutMandate</code>.</li> <li>The Payment Processor verifies the <code>PaymentMandate</code>.</li> </ul> </li> <li>Confirmation: If valid, the payment is processed, and the order is     confirmed.</li> </ol> <p>Dependencies: Checkout capability</p> <p>See here for full AP2 mandates extension</p> <p>Learn more about AP2</p>"}]}