{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ucp.dev/schemas/discovery/profile.json",
  "title": "UCP Discovery Profile",
  "description": "Schema for UCP discovery profile returned from /.well-known/ucp.",
  "type": "object",
  "additionalProperties": true,
  "required": [
    "ucp"
  ],
  "properties": {
    "ucp": {
      "$ref": "https://ucp.dev/schemas/ucp.json#/$defs/discovery_profile"
    },
    "payment": {
      "type": "object",
      "description": "Payment configuration containing handlers",
      "properties": {
        "handlers": {
          "type": "array",
          "description": "Payment handler definitions that describe how instruments can be collected",
          "items": {
            "$ref": "https://ucp.dev/schemas/shopping/types/payment_handler.json"
          }
        }
      }
    },
    "signing_keys": {
      "type": "array",
      "description": "Public keys for signature verification (JWK format). Used to verify signed responses, webhooks, and other authenticated messages from this party.",
      "items": {
        "type": "object",
        "required": [
          "kid",
          "kty"
        ],
        "properties": {
          "kid": {
            "type": "string",
            "description": "Key ID. Referenced in signature headers to identify which key to use for verification."
          },
          "kty": {
            "type": "string",
            "description": "Key type (e.g., 'EC', 'RSA')."
          },
          "crv": {
            "type": "string",
            "description": "Curve name for EC keys (e.g., 'P-256')."
          },
          "x": {
            "type": "string",
            "description": "X coordinate for EC public keys (base64url encoded)."
          },
          "y": {
            "type": "string",
            "description": "Y coordinate for EC public keys (base64url encoded)."
          },
          "n": {
            "type": "string",
            "description": "Modulus for RSA public keys (base64url encoded)."
          },
          "e": {
            "type": "string",
            "description": "Exponent for RSA public keys (base64url encoded)."
          },
          "use": {
            "type": "string",
            "enum": [
              "sig",
              "enc"
            ],
            "description": "Key usage. Should be 'sig' for signing keys."
          },
          "alg": {
            "type": "string",
            "description": "Algorithm (e.g., 'ES256', 'RS256')."
          }
        }
      }
    }
  }
}