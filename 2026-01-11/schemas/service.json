{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ucp.dev/2026-01-11/schemas/service.json",
  "title": "UCP Service",
  "description": "Schema for UCP service definitions. A service defines the API surface for a vertical (shopping, common, etc.) with transport bindings.",
  "type": "object",
  "additionalProperties": true,
  "required": [
    "version",
    "spec"
  ],
  "properties": {
    "version": {
      "$ref": "https://ucp.dev/2026-01-11/schemas/ucp.json#/$defs/version",
      "description": "Service version in YYYY-MM-DD format."
    },
    "spec": {
      "type": "string",
      "format": "uri",
      "description": "URL to service documentation. Origin MUST match namespace authority."
    },
    "rest": {
      "type": "object",
      "description": "REST transport binding",
      "required": [
        "schema",
        "endpoint"
      ],
      "properties": {
        "schema": {
          "type": "string",
          "format": "uri",
          "description": "URL to OpenAPI 3.x specification (JSON format)"
        },
        "endpoint": {
          "type": "string",
          "format": "uri",
          "description": "Merchant's REST API endpoint"
        }
      }
    },
    "mcp": {
      "type": "object",
      "description": "MCP transport binding",
      "required": [
        "schema",
        "endpoint"
      ],
      "properties": {
        "schema": {
          "type": "string",
          "format": "uri",
          "description": "URL to OpenRPC specification (JSON format)"
        },
        "endpoint": {
          "type": "string",
          "format": "uri",
          "description": "Merchant's MCP endpoint"
        }
      }
    },
    "a2a": {
      "type": "object",
      "description": "A2A transport binding",
      "required": [
        "endpoint"
      ],
      "properties": {
        "endpoint": {
          "type": "string",
          "format": "uri",
          "description": "Merchant's Agent Card endpoint"
        }
      }
    },
    "embedded": {
      "type": "object",
      "description": "Embedded transport binding (JSON-RPC 2.0 over postMessage). Unlike REST/MCP, the endpoint is per-capability (i.e. per-checkout via continue_url), not per-service.",
      "required": [
        "schema"
      ],
      "properties": {
        "schema": {
          "type": "string",
          "format": "uri",
          "description": "URL to OpenRPC specification (JSON format) defining the embedded protocol"
        }
      }
    }
  }
}